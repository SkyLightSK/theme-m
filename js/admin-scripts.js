var meta_gallery_frame;jQuery(document).ready(function(){jQuery("#mogul_product_gallery_button").click(function(e){e.preventDefault(),meta_gallery_frame||((meta_gallery_frame=wp.media.frames.meta_gallery_frame=wp.media({title:mogul_product_gallery.title,button:{text:mogul_product_gallery.button},library:{type:"image"},multiple:!0})).states.add([new wp.media.controller.Library({id:"mogul-portfolio-gallery",title:"Select Images for Gallery",priority:20,toolbar:"main-gallery",filterable:"uploaded",library:wp.media.query(meta_gallery_frame.options.library),multiple:!!meta_gallery_frame.options.multiple&&"reset",editable:!0,allowLocalEdits:!0,displaySettings:!0,displayUserSettings:!0})]),meta_gallery_frame.on("open",function(){var a=meta_gallery_frame.state().get("selection"),e=(meta_gallery_frame.state("gallery-edit").get("library"),jQuery("#mogul_product_gallery").val());e&&(idsArray=e.split(","),idsArray.forEach(function(e){attachment=wp.media.attachment(e),attachment.fetch(),a.add(attachment?[attachment]:[])}))}),meta_gallery_frame.on("ready",function(){jQuery(".media-modal").addClass("no-sidebar")}),meta_gallery_frame.on("select",function(){var e,a=[],l="";images=meta_gallery_frame.state().get("selection"),l+='<ul class="mogul_product_gallery_list">',images.each(function(e){a.push(e.attributes.id),l+='<li><div class="mogul_product_gallery_container"><span class="mogul_product_gallery_close"><img id="'+e.attributes.id+'" src="'+e.attributes.sizes.thumbnail.url+'"></span></div></li>'}),l+="</ul>",(e=a.join(","))&&(jQuery("#mogul_product_gallery").val(e),jQuery("#mogul_product_gallery_src").html(l),setTimeout(function(){ajaxUpdateTempMetaData()},0))})),meta_gallery_frame.open()}),jQuery(document.body).on("click",".mogul_product_gallery_close",function(e){e.preventDefault();var a=jQuery(this).children("img").attr("id"),l=jQuery("#mogul_product_gallery").val().replace(","+a,"").replace(a+",","").replace(a,"");jQuery(this).parents().eq(1).remove(),jQuery("#mogul_product_gallery").val(l)}),$(".slider.round").click(function(){var e=$("#availability-checkbox");e.val("true"==e.val()?"false":"true")})});